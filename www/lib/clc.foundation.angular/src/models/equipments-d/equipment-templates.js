if("function"!=typeof define)var define=require("amdefine")(module);var __hasProp={}.hasOwnProperty,__extends=function(e,t){for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);function o(){this.constructor=e}return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e};define(["./items-model","./equipment-template"],function(e,t){var n,o;return{EquipmentTemplates:n=function(n){function o(e,t){var n,r;o.__super__.constructor.call(this,e,t),null==(n=this.options).id&&(n.id="equipmenttemplates"),null==(r=this.options).keys&&(r.keys=["user","project","type","template"])}return __extends(o,n),o.prototype.createItem=function(e){var n;return new t.EquipmentTemplate(this,e)},o.prototype.loadEquipmentTemplate=function(t,n,o,r){var i,p;return!r&&(i=this.getItemByIds(t))?"function"==typeof o?o(null,i):void 0:this.load(t,n,(p=this,function(u,s){var a,l,f,c;return(i=null!=s?s[0]:void 0)&&!i.base&&i.model.base?(f=(c=i.model.base.split("."))[0],l=c[1],a={user:t.user,project:t.project,type:f,template:l},e=p.getItemByIds(a),i.base=e,e?"function"==typeof o?o(null,i):void 0:p.loadEquipmentTemplate(a,n,function(e,t){return i.base=t,"function"==typeof o?o(e,i):void 0},r)):"function"==typeof o?o(u,i):void 0}),r)},o}(e.ItemsModel)}});