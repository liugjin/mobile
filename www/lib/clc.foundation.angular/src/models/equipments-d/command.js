if("function"!=typeof define)var define=require("amdefine")(module);var __hasProp={}.hasOwnProperty,__extends=function(e,t){for(var r in t)__hasProp.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};define(["./view-model"],function(e){var t,r;return{Command:t=function(e){function t(e,r){t.__super__.constructor.call(this,e,r),this.equipment=this.parent.parent,this.station=this.equipment.station,this.data={}}return __extends(t,e),t.prototype.setModel=function(e,r){var n,i,o,a,s,p,u,f,m,d,l;if((a=t.__super__.setModel.call(this,e,r)).parameters)for(u=0,m=(l=a.parameters).length;u<m;u++)if("enum"===(s=l[u]).type&&s.definition){for(n=[],f=0,d=(o=s.definition.split(";")).length;f<d;f++)p=(i=o[f]).split(":"),n.push({key:p[0]+" ("+p[1]+")",value:p[1]});s.enums=n}return a},t.prototype.getIds=function(){var e;return(e=this.equipment.getIds()).command=this.model.command,e},t.prototype.setValue=function(e){var t,r,n,i,o,a,s,p,u;for(r in t={},e)a=e[r],t[r]=a;if(i={},o="",t.parameters)for(s=0,p=(u=t.parameters).length;s<p;s++)i[(n=u[s]).key]=n.value,o+=n.key+"="+n.value+"; ";return t.parameters3=o,"user"===t.trigger?t.triggerName=t.operatorName:t.triggerName=t.trigger,this._data=e,this.data=t},t}(e.ViewModel)}});