if("function"!=typeof define)var define=require("amdefine")(module);var __hasProp={}.hasOwnProperty,__extends=function(e,t){for(var r in t)__hasProp.call(t,r)&&(e[r]=t[r]);function a(){this.constructor=e}return a.prototype=t.prototype,e.prototype=new a,e.__super__=t.prototype,e};define(["../view-model"],function(e){var t,r;return{Command:t=function(e){function t(e,r){t.__super__.constructor.call(this,e,r),this.equipment=this.parent.parent,this.station=this.equipment.station,this.data={}}return __extends(t,e),t.prototype.setModel=function(e,r){var a,o,n,i,s,u,p,l,m,f,h;if(!t.__super__.setModel.call(this,e,r))return!1;if(this.model.parameters)for(p=0,m=(h=this.model.parameters).length;p<m;p++)if("enum"===(i=h[p]).type&&i.definition){for(a=[],l=0,f=(n=i.definition.split(",")).length;l<f;l++)u=(s=(o=n[l]).split(":"))[0],u=isNaN(u)?u:Number(u),a.push({key:s[1]+" ("+u+")",value:u});i.enums=a}return!0},t.prototype.getIds=function(){var e;return(e=this.equipment.getIds()).command=this.model.command,e},t.prototype.setValue=function(e){var t,r,a,o,n,i,s,u,p;for(r in t={},e)i=e[r],t[r]=i;if(o={},n="",t.parameters)for(s=0,u=(p=t.parameters).length;s<u;s++)o[(a=p[s]).key]=a.value,n&&(n+=", "),n+=a.key+"="+a.value;return t.parameters3=n,"user"===t.trigger?t.triggerName=t.operatorName:t.triggerName=t.trigger,this._data=e,this.data=t},t.prototype.getParameterValue=function(e){var t;switch(t=e.value,e.type){case"float":t=parseFloat(t);break;case"int":t=parseInt(t);break;case"bool":t=Bool(t);break;case"enum":isNaN(t)||(t=Number(t))}return t},t.prototype.getParameterValues=function(){var e,t,r,a,o;for(t=[],r=0,a=(o=this.model.parameters).length;r<a;r++)e=o[r],t.push({key:e.key,value:this.getParameterValue(e)});return t},t}(e.ViewModel)}});