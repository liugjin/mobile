if("function"!=typeof define)var define=require("amdefine")(module);define([],function(){var t,e,n;return n=0,{Disposable:t=function(){function t(){this.handlers={},this.index=0,this.initialize()}return t.prototype.initialize=function(t){return"function"==typeof t?t():void 0},t.prototype.addHandler=function(t){return this.addHandle(t)},t.prototype.addHandle=function(t){var e,r,o;return this.index++,e={key:r=n++,target:t,dispose:(o=this,function(e){if("function"==typeof t?t():"function"==typeof t.dispose&&t.dispose(),!e)return delete o.handlers[r]})},this.handlers[r]=e,e},t.prototype.removeHandler=function(t){var e;return null!=(e=this.handler[t])&&e.dispose(),e},t.prototype.dispose=function(){var t,e,n;for(e in n=this.handlers)(t=n[e]).dispose(!0);return this.handlers={},this.disposed=!0},t.prototype.getGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e,n;return e=16*Math.random()|0,(n="x"===t?e:3&e|8).toString(16)})},t.prototype.setInterval=function(t,e){var n;return n=setInterval(t,e),this.addHandle(function(){return clearInterval(n)})},t.prototype.setTimeout=function(t,e){var n;return n=setTimeout(t,e),this.addHandle(function(){return clearTimeout(n)})},t.prototype.addEventListener=function(t,e,n,r){return null==n&&(n=document),n.addEventListener(t,e,r),this.addHandle(function(){return n.removeEventListener(t,e)})},t.prototype.log=function(t){return"object"==typeof t?console.log(t):console.log((new Date).toISOString()+" "+t)},t}()}});