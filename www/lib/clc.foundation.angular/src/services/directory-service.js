if("function"!=typeof define)var define=require("amdefine")(module);var __hasProp={}.hasOwnProperty,__extends=function(e,t){for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};define(["./http-model-service"],function(e){var t,n;return{DirectoryService:t=function(e){function t(e,n,r){t.__super__.constructor.call(this,e,n,r)}return __extends(t,e),t.prototype.load=function(e,n,r){return r&&(this.model.made=!1),t.__super__.load.call(this,e,(i=this,function(e,t,r){return t.made?"function"==typeof n?n(e,t,r):void 0:((t=i.create(t)).made=!0,"function"==typeof n?n(e,t,r):void 0)}),r);var i},t.prototype.make=function(e){var t,n;return n=function(e){return e===Object(e)},(t=function(e,r){var i,p;if(n(e))for(i in e)p=e[i],n(p)&&(t(p,e),p.parent=r);return e})(e.data),e},t.prototype.create=function(e){var t,n,r,i,p,o,s,a,u,m,l,c,y,d,f,v,j,g,q,h,T,k,E,b,S,U,I,_,B,P,O,w,x,V,C,D,K,M,H,z;for(h in this.directory=e.data,(r=e.data).projects=[],k=r.users)for(h in(g=k[h]).model=e,E=g.projects){for(h in(l=E[h]).user=g,l.equipmentTemplates={},r.projects.push(l),x=l.stationTypes)(v=x[h]).user=g,v.project=l;for(h in V=l.signalTypes)(d=V[h]).user=g,d.project=l;for(h in C=l.eventTypes)(u=C[h]).user=g,u.project=l;for(h in D=l.eventSeverities)(a=D[h]).user=g,a.project=l;for(h in K=l.vendors)(q=K[h]).user=g,q.project=l;for(h in M=l.units)(j=M[h]).user=g,j.project=l;for(h in H=l.monitoringUnits)(m=H[h]).user=g,m.project=l;for(h in z=l.equipmentTypes)for(h in(o=z[h]).user=g,o.project=l,b=o.equipmentTemplates){for(h in(p=b[h]).user=g,p.project=l,p.equipmentType=o,S=p.properties)(c=S[h]).user=g,c.project=l,c.equipmentType=o,c.equipmentTemplate=p,c.unit=l.units[c.unit];for(h in U=p.signals)(y=U[h]).user=g,y.project=l,y.equipmentType=o,y.equipmentTemplate=p,y.unit=l.signalTypes[y.signalType];for(h in I=p.events)(s=I[h]).user=g,s.project=l,s.equipmentType=o,s.equipmentTemplate=p,s.severity=l.eventSeverities[s.severity];for(h in _=p.commands)(n=_[h]).user=g,n.project=l,n.equipmentType=o,n.equipmentTemplate=p;l.equipmentTemplates[p.key]=p}for(h in l.equipments={},l.properties={},l.signals={},l.events={},l.commands={},l.rootStation=null,B=l.stations){for(h in(f=B[h]).user=g,f.project=l,f.stationType=l.stationTypes[f.type],f.properties={},f.signals={},f.events={},f.commands={},f.parent?f.parentStation=l.stations[f.parent]:l.rootStation||(l.rootStation=f),f.children=[],P=l.stations)(t=P[h]).parent===f.station&&f.children.push(t);for(h in O=f.equipments)(i=O[h]).user=g,i.project=l,i.station=f,i.equipmentType=l.equipmentTypes[i.type],i.equipmentVendor=l.vendors[i.vendor],i.equipmentTemplate=null!=(w=i.equipmentType)?w.equipmentTemplates[i.template]:void 0,l.equipments[i.key]=i,null==i.children&&(i.children=[]),i.parent&&i.parent!==i.equipment&&(i.parentEquipment=f.equipments[i.parent],i.parentEquipment&&(null==(T=i.parentEquipment).children&&(T.children=[]),i.parentEquipment.children.push(i))),this.updateEquipmentInstance(i)}}return e.stations=this.getStations(),e},t.prototype.updateEquipmentInstance=function(e){var t,n,r,i,p,o,s,a,u,m,l,c,y,d,f,v,j,g,q,h,T,k,E,b,S,U;if(v=e.user,u=e.project,f=e.station,!(r=e.equipmentTemplate))return console.log((new Date).toISOString()+" equipment("+e.key+") is not bind to a valid template"),void console.log(e);if(m={},r.properties)for(q in k=r.properties){for(o in c={},g=k[q])j=g[o],c[o]=j;c.user=v,c.project=u,c.station=f,c.equipment=e,s=e.key+"/"+c.property,c.key=s,m[c.property]=c,f.properties[s]=c,u.properties[s]=c}if(l=e.properties)for(h=0,T=l.length;h<T;h++)null!=(E=m[(a=l[h]).id])&&(E.value=a.value);if(e.properties=m,d={},r.signals)for(q in b=r.signals){for(o in y={},g=b[q])j=g[o],y[o]=j;y.user=v,y.project=u,y.station=f,y.equipment=e,s=e.key+"/"+y.signal,y.key=s,d[y.signal]=y,f.signals[s]=y,u.signals[s]=y}if(e.signals=d,p={},r.events)for(q in S=r.events){for(o in i={},g=S[q])j=g[o],i[o]=j;i.user=v,i.project=u,i.station=f,i.equipment=e,s=e.key+"/"+i.event,i.key=s,p[i.event]=i,f.events[s]=i,u.events[s]=i}if(e.events=p,n={},r.commands)for(q in U=r.commands){for(o in t={},g=U[q])j=g[o],t[o]=j;t.user=v,t.project=u,t.station=f,t.equipment=e,s=e.key+"/"+t.command,t.key=s,n[t.command]=t,f.commands[s]=t,u.commands[s]=t}return e.commands=n,e},t.prototype.getStations=function(e){var t,n,r,i,p,o,s,a;for(t in i=[],o=this.directory.users)for(t in s=(p=o[t]).projects)for(t in a=(n=s[t]).stations)r=a[t],e&&!e(r)||i.push(r);return i},t.prototype.getEquipmentsByTemplate=function(e){var t,n,r,i,p,o,s,a,u,m,l;for(r in o=e.user+"/"+e.project+"/"+e.type+"/"+e.template,n=[],a=this.directory.users)for(r in u=(s=a[r]).projects)for(r in m=(i=u[r]).stations)for(r in l=(p=m[r]).equipments)(t=l[r]).equipmentTemplate.key===o&&n.push(t);return n},t.prototype.getEquipmentsByTemplate2=function(e){var t;return t=e.user+"/"+e.project+"/"+e.type+"/"+e.template,this.getEquipmentsByTemplateKey(t)},t.prototype.getEquipmentsByTemplateKey=function(e){var t,n,r,i,p,o,s,a;for(p in n=[],o=this.directory.users)for(p in s=(i=o[p]).projects)for(p in a=(r=s[p]).equipments)(t=a[p]).equipmentTemplate.key===e&&n.push(t);return n},t.prototype.createOrUpdate=function(e,t){switch(e){case"user":return this.configUser(t);case"project":return this.configProject(t);case"stationType":return this.configStationType(t);case"signalType":return this.configSignalType(t);case"eventSeverity":return this.configEventSeverity(t);case"unit":return this.configUnit(t);case"vendor":return this.configVendor(t);case"equipmentType":return this.configEquipmentType(t);case"equipmentTemplate":return this.configEquipmentTemplate(t);case"equipmentProperty":return this.configEquipmentProperty(t);case"equipmentSignal":return this.configEquipmentSignal(t);case"equipmentEvent":return this.configEquipmentEvent(t);case"equipmentCommand":return this.configEquipmentProperty(t);case"station":return this.configStation(t);case"equipment":return this.configEquipment(t)}},t.prototype.remove=function(e,t){return t.enable=!1,this.createOrUpdate(e,t)},t.prototype.updateItem=function(e,t){var n,r;for(n in e)r=e[n],t.hasOwnProperty(n)&&(e[n]=t[n]);return e},t.prototype.configUser=function(e){var t;if(e){if(t=this.directory.users[e.user])return!1===e.enable?void delete this.directory.users[e.user]:this.updateItem(t,e);if(!1!==e.enable)return this.directory.users[e.user]={key:e.user,user:e.user,name:e.name,desc:e.desc,image:e.image,latitude:e.latitude,longitude:e.longitude,private:e.private,projects:{}}}},t.prototype.configProject=function(e){var t,n;if(e&&(n=this.directory.users[e.user])){if(t=n.projects[e.project])return!1===e.enable?void delete n.projects[e.project]:(this.updateItem(t,e),t.user=n,t);if(!1!==e.enable)return n.projects[e.project]={key:e.user+"/"+e.project,user:n,project:e.project,name:e.name,desc:e.desc,updatetime:e.updatetime,features:e.features,keywords:e.keywords,latitude:e.latitude,longitude:e.longitude,private:e.private,units:{},vendors:{},equipmentTypes:{},stations:{},eventSeverities:{},stationTypes:{},signalTypes:{},eventTypes:{},monitoringUnits:{}}}},t.prototype.configStation=function(e){var t,n,r,i,p;if(e&&(t=null!=(p=this.directory.users[e.user])?p.projects[e.project]:void 0)){if(i=function(e){var n;if(e.parent&&e.station!==e.parent){if(n=t.stations[e.parent],e.parentStation!==n&&(e.parentStation=n,n.children.indexOf(e)<0))return n.children.push(e)}else if(!t.rootStation)return t.rootStation=e},n=function(e){var t;if(e.parentStation&&(t=e.parentStation.children.indexOf(e))>=0)return e.parentStation.children.splice(t,1)},r=t.stations[e.station])return!1===e.enable?(delete t.stations[e.station],void n(r)):(r.parent!==e.parent&&n(r),this.updateItem(r,e),r.user=t.user,r.project=t,i(r),r);if(!1!==e.enable)return i(r={key:e.user+"/"+e.project+"/"+e.station,user:t.user,project:t,station:e.station,parent:e.parent,name:e.name,desc:e.desc,image:e.image,latitude:e.latitude,longitude:e.longitude,equipments:{},properties:{},signals:{},events:{},commands:{},children:[]}),t.stations[e.station]=r}},t.prototype.setProperties=function(e){var t,n,r,i,p,o,s,a,u,m,l;if(!(p=e.equipmentTemplate.properties))return[];for(t in i=[],p)n=p[t],i.push({property:n.property,name:n.name,unit:null!=(l=n.unit)?l.name:void 0,id:n.property,value:n.value});if(o=e.properties)for(s=0,u=i.length;s<u;s++)for(n=i[s],a=0,m=o.length;a<m;a++)if((r=o[a]).id===n.id){void 0===r.value&&null===r.value||(n.value=r.value);break}return e.properties=i,i},t.prototype.setSampleUnits=function(e){var t,n,r,i,p,o,s,a,u,m,l;if(!(n=e.equipmentTemplate.sampleUnits)||!n.length)return[];for(t=[],o=0,u=n.length;o<u;o++)i=n[o],t.push({id:i.id,name:i.name,type:i.type,value:i.value});if(r=e.sampleUnits)for(s=0,m=t.length;s<m;s++)for(i=t[s],a=0,l=r.length;a<l;a++)if(p=r[a],i.id===p.id){void 0===p.value&&null===p.value||(i.value=p.value);break}return e.sampleUnits=t,t},t.prototype.configEquipment=function(e){var t,n,r,i,p,o;if(e&&(r=null!=(p=this.directory.users[e.user])&&null!=(o=p.projects[e.project])?o.stations[e.station]:void 0)){if(i=function(e){var t;if(e.parent&&e.equipment!==e.parent&&(t=r.equipments[e.parent],e.parentEquipment!==t&&(e.parentEquipment=t,t.children.indexOf(e)<0)))return t.children.push(e)},n=function(e){var t;if(e.parentEquipment&&(t=e.parentEquipment.children.indexOf(e))>=0)return e.parentEquipment.children.splice(t,1)},t=r.equipments[e.equipment])return!1===e.enable?(delete r.equipments[e.equipment],delete r.project.equipments[e.key],void n(t)):(this.updateItem(t,e),t.user=r.user,t.project=r.project,t.station=r,t.equipmentType=r.project.equipmentTypes[e.type],t.equipmentTemplate=r.project.equipmentTypes[e.type].equipmentTemplates[e.template],t.equipmentVendor=r.project.vendors[e.vendor],i(t),this.updateEquipmentInstance(t),t);if(!1!==e.enable)return i(t=r.equipments[e.equipment]={key:e.user+"/"+e.project+"/"+e.station+"/"+e.equipment,user:r.user,project:r.project,station:r,equipment:e.equipment,name:e.name,equipmentType:r.project.equipmentTypes[e.type],equipmentTemplate:r.project.equipmentTypes[e.type].equipmentTemplates[e.template],vendor:e.vendor,equipmentVendor:r.project.vendors[e.vendor],parent:e.parent,desc:e.desc,image:e.image,sampleUnits:e.sampleUnits,properties:e.properties}),this.updateEquipmentInstance(t)}},t.prototype.configEventSeverity=function(e){var t,n,r;if(e&&(n=null!=(r=this.directory.users[e.user])?r.projects[e.project]:void 0)){if(t=n.eventSeverities[e.severity])return!1===e.enable?void delete n.eventSeverities[e.severity]:(this.updateItem(t,e),t.user=n.user,t.project=n.project,t);if(!1!==e.enable)return n.eventSeverities[e.severity]={key:e.user+"/"+e.project+"/"+e.severity,user:n.user,project:n,severity:e.severity,name:e.name,color:e.color}}},t.prototype.configStationType=function(e){var t,n,r;if(e&&(t=null!=(r=this.directory.users[e.user])?r.projects[e.project]:void 0)){if(n=t.stationTypes[e.type])return!1===e.enable?void delete t.stationTypes[e.type]:(this.updateItem(n,e),n.user=t.user,n.project=t.project,signalType);if(!1!==e.enable)return t.stationTypes[e.type]={key:e.user+"/"+e.project+"/"+e.type,user:t.user,project:t,type:e.type,name:e.name}}},t.prototype.configSignalType=function(e){var t,n,r;if(e&&(t=null!=(r=this.directory.users[e.user])?r.projects[e.project]:void 0)){if(n=t.signalTypes[e.type])return!1===e.enable?void delete t.signalTypes[e.type]:(this.updateItem(n,e),n.user=t.user,n.project=t.project,n);if(!1!==e.enable)return t.signalTypes[e.type]={key:e.user+"/"+e.project+"/"+e.type,user:t.user,project:t,type:e.type,name:e.name,unit:e.unit}}},t.prototype.configEventType=function(e){var t,n,r;if(e&&(n=null!=(r=this.directory.users[e.user])?r.projects[e.project]:void 0)){if(t=n.eventTypes[e.type])return!1===e.enable?void delete n.eventTypes[e.type]:(this.updateItem(t,e),t.user=n.user,t.project=n.project,t);if(!1!==e.enable)return n.eventTypes[e.type]={key:e.user+"/"+e.project+"/"+e.type,user:n.user,project:n,type:e.type,name:e.name,unit:e.unit}}},t.prototype.configUnit=function(e){var t,n,r;if(e&&(t=null!=(r=this.directory.users[e.user])?r.projects[e.project]:void 0)){if(n=t.units[e.unit])return!1===e.enable?void delete t.units[e.unit]:(this.updateItem(n,e),n.user=t.user,n.project=t.project,n);if(!1!==e.enable)return t.units[e.unit]={key:e.user+"/"+e.project+"/"+e.unit,user:t.user,project:t,unit:e.unit,name:e.name}}},t.prototype.configMonitoringUnit=function(e){var t,n,r;if(e&&(n=null!=(r=this.directory.users[e.user])?r.projects[e.project]:void 0)){if(t=n.monitoringUnits[e.monitoringUnit])return!1===e.enable?void delete n.monitoringUnits[e.monitoringUnit]:(this.updateItem(t,e),t.user=n.user,t.project=n.project,t);if(!1!==e.enable)return n.monitoringUnits[e.monitoringUnit]={key:e.user+"/"+e.project+"/"+e.monitoringUnit,user:n.user,project:n,monitoringUnit:e.monitoringUnit,name:e.name}}},t.prototype.configEquipmentType=function(e){var t,n,r;if(e&&(n=null!=(r=this.directory.users[e.user])?r.projects[e.project]:void 0)){if(t=n.equipmentTypes[e.type])return!1===e.enable?void delete n.equipmentTypes[e.type]:(this.updateItem(t,e),t.user=n.user,t.project=n.project,t);if(!1!==e.enable)return n.equipmentTypes[e.type]={key:e.user+"/"+e.project+"/"+e.type,user:n.user,project:n,type:e.type,name:e.name,image:e.image,equipmentTemplates:{}}}},t.prototype.configVendor=function(e){var t,n,r;if(e&&(t=null!=(r=this.directory.users[e.user])?r.projects[e.project]:void 0)){if(n=t.vendors[e.vendor])return!1===e.enable?void delete t.vendors[e.vendor]:(this.updateItem(n,e),n.user=t.user,n.project=t.project,n);if(!1!==e.enable)return t.vendors[e.vendor]={key:e.user+"/"+e.project+"/"+e.vendor,user:t.user,project:t,vendor:e.vendor,name:e.name,image:e.image}}},t.prototype.configEquipmentTemplate=function(e){var t,n,r,i;if(e&&(n=null!=(r=this.directory.users[e.user])&&null!=(i=r.projects[e.project])?i.equipmentTypes[e.type]:void 0)){if(t=n.equipmentTemplates[e.template])return!1===e.enable?(delete n.equipmentTemplates[e.template],void delete project.equipmentTemplates[e.key]):(this.updateItem(t,e),t.user=n.user,t.project=n.project,t.type=n,t);if(!1!==e.enable)return n.equipmentTemplates[e.template]={key:e.user+"/"+e.project+"/"+e.type+"/"+e.template,user:n.user,project:n.project,type:n,template:e.template,vendor:e.vendor,name:e.name,image:e.image,sampleUnits:e.sampleUnits,properties:{},signals:{},events:{},commands:{}}}},t.prototype.configEquipmentProperty=function(e){var t,n,r,i,p,o,s,a,u,m,l,c,y,d;if(e&&(n=null!=(c=this.directory.users[e.user])&&null!=(y=c.projects[e.project])&&null!=(d=y.equipmentTypes[e.type])?d.equipmentTemplates[e.template]:void 0)){if(p=n.properties[e.property]){if(!1===e.enable){for(delete n.properties[e.property],o=0,u=(r=this.getEquipmentsByTemplate(e)).length;o<u;o++)i=(t=r[o]).properties[e.property],delete t.properties[i.property],delete t.station.properties[i.key],delete t.project.properties[i.key];return p}for(this.updateItem(p,e),p.user=n.user,p.project=n.project,p.type=n.type,p.template=n,s=0,m=(r=this.getEquipmentsByTemplate(e)).length;s<m;s++)(i=(t=r[s]).properties[e.property])&&(i.name=e.name,i.dataType=e.dataType,i.unit=n.project.units[e.unit],void 0!==i.value&&null!==i.value||(i.value=e.value),i.format=e.format);return p}if(!1!==e.enable){for(p=n.properties[e.property]={key:e.user+"/"+e.project+"/"+e.type+"/"+e.template+"/"+e.property,user:n.user,project:n.project,type:n.type,template:n,property:e.property,name:e.name,dataType:e.dataType,unit:e.unit,value:e.value,format:e.format},a=0,l=(r=this.getEquipmentsByTemplate(e)).length;a<l;a++)null==(t=r[a]).properties&&(t.properties={}),t.properties[e.property]={key:e.user+"/"+e.project+"/"+t.station.station+"/"+t.equipment+"/"+e.property,user:n.user,project:n.project,type:n.type,template:n,station:t.station,equipment:t,property:e.property,name:e.name,unit:n.project.units[e.unit],dataType:e.dataType,value:e.value,format:e.format};return p}}},t.prototype.configEquipmentSignal=function(e){var t,n,r,i,p,o,s,a,u,m,l,c,y,d;if(e&&(n=null!=(c=this.directory.users[e.user])&&null!=(y=c.projects[e.project])&&null!=(d=y.equipmentTypes[e.type])?d.equipmentTemplates[e.template]:void 0)){if(p=n.signals[e.signal]){if(!1===e.enable){for(delete n.signals[e.signal],o=0,u=(r=this.getEquipmentsByTemplate(e)).length;o<u;o++)i=(t=r[o]).signals[e.signal],delete t.signals[i.signal],delete t.station.signals[i.key],delete t.project.signals[i.key];return p}for(this.updateItem(p,e),p.user=n.user,p.project=n.project,p.type=n.type,p.template=n,s=0,m=(r=this.getEquipmentsByTemplate(e)).length;s<m;s++)(i=(t=r[s]).signals[e.signal])&&(i.name=e.name,i.dataType=e.dataType,i.unit=n.project.units[e.unit],i.format=e.format);return p}if(!1!==e.enable){for(p=n.signals[e.signal]={key:e.user+"/"+e.project+"/"+e.type+"/"+e.template+"/"+e.signal,signal:e.signal,name:e.name,signalType:e.unit,dataType:e.dataType,format:e.format},a=0,l=(r=this.getEquipmentsByTemplate(e)).length;a<l;a++)null==(t=r[a]).signals&&(t.signals={}),t.signals[e.signal]={key:e.user+"/"+e.project+"/"+t.station.station+"/"+t.equipment+"/"+e.signal,user:n.user,project:n.project,equipmentType:n.type,equipmentTemplate:n,station:t.station,equipment:t,signal:e.signal,name:e.name,dataType:e.dataType,unit:n.project.signalTypes[e.unit],format:e.format};return p}}},t.prototype.configEquipmentEvent=function(e){var t,n,r,i,p,o,s,a,u,m,l,c,y,d;if(e&&(r=null!=(c=this.directory.users[e.user])&&null!=(y=c.projects[e.project])&&null!=(d=y.equipmentTypes[e.type])?d.equipmentTemplates[e.template]:void 0)){if(p=r.events[e.event]){if(!1===e.enable){for(delete r.events[e.event],o=0,u=(i=this.getEquipmentsByTemplate(e)).length;o<u;o++)t=(n=i[o]).events[e.event],delete n.events[t.event],delete n.station.events[t.key],delete n.project.events[t.key];return p}for(this.updateItem(p,e),p.user=r.user,p.project=r.project,p.type=r.type,p.template=r,s=0,m=(i=this.getEquipmentsByTemplate(e)).length;s<m;s++)(t=(n=i[s]).events[e.event])&&(t.name=e.name,t.eventType=e.eventType);return p}if(!1!==e.enable){for(p=r.events[e.event]={key:e.user+"/"+e.project+"/"+e.type+"/"+e.template+"/"+e.event,event:e.event,name:e.name,eventType:e.eventType},a=0,l=(i=this.getEquipmentsByTemplate(e)).length;a<l;a++)null==(n=i[a]).events&&(n.events={}),n.events[e.event]={key:e.user+"/"+e.project+"/"+n.station.station+"/"+n.equipment+"/"+e.event,user:r.user,project:r.template,equipmentType:r.type,equipmentTemplate:r,station:n.station,equipment:n,event:e.event,name:e.name,severity:r.project.eventSeverities[e.severity]};return p}}},t.prototype.configEquipmentCommand=function(e){var t,n,r,i,p,o,s,a,u,m,l,c,y,d,f;if(e&&(p=null!=(y=this.directory.users[e.user])&&null!=(d=y.projects[e.project])&&null!=(f=d.equipmentTypes[e.type])?f.equipmentTemplates[e.template]:void 0)){if(r=p.commands[e.command]){if(!1===e.enable){for(delete p.commands[e.command],s=0,m=(o=this.getEquipmentsByTemplate(e)).length;s<m;s++)t=(i=o[s]).commands[e.command],delete i.commands[t.command],delete i.station.commands[t.key],delete i.project.commands[t.key];return r}for(this.updateItem(r,e),r.user=p.user,r.project=p.project,r.type=p.type,r.template=p,a=0,l=(o=this.getEquipmentsByTemplate(e)).length;a<l;a++)(n=(i=o[a]).commands[e.command])&&(n.name=e.name,n.parameters=angular.copy(e.parameters));return r}if(!1!==e.enable){for(r=p.commands[e.command]={key:e.user+"/"+e.project+"/"+e.type+"/"+e.template+"/"+e.command,command:e.command,name:e.name,parameters:e.parameters},u=0,c=(o=this.getEquipmentsByTemplate(e)).length;u<c;u++)null==(i=o[u]).commands&&(i.commands={}),i.events[e.event]={key:e.user+"/"+e.project+"/"+i.station.station+"/"+i.equipment+"/"+e.command,user:p.user,project:p.template,equipmentType:p.type,equipmentTemplate:p,station:i.station,equipment:i,command:e.command,name:e.name,parameters:angular.copy(e.parameters)};return r}}},t}(e.HttpModelService)}});