if("function"!=typeof define)var define=require("amdefine")(module);var __hasProp={}.hasOwnProperty,__extends=function(t,n){for(var e in n)__hasProp.call(n,e)&&(t[e]=n[e]);function o(){this.constructor=t}return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t};define(["./service"],function(t){var n,e;return{HttpService:n=function(t){function n(t,e){this.$http=e,n.__super__.constructor.call(this,t)}return __extends(n,t),n.prototype.onComplete=function(t,n){var e,o,r;return(null!=(e=t.data)?e._err:void 0)&&(o=null!=(r=e._err.message)?r:e._err),o||200===t.status||(o=t.status),this.$rootScope.loading=!1,"function"==typeof n?n(o,e,null!=e?e._paging:void 0):void 0},n.prototype.post=function(t,n,e){return t?(this.$rootScope.loading=!0,n=this.appendToken(n),this.$http.post(t,n).then((o=this,function(t){return o.onComplete(t,e)})).catch(function(t){return function(n){return t.onComplete(n,e)}}(this))):"function"==typeof e?e("null post url"):void 0;var o},n.prototype.delete=function(t,n,e){return t?(this.$rootScope.loading=!0,n=this.appendToken(n),this.$http.delete(t,{params:n}).then((o=this,function(t){return o.onComplete(t,e)})).catch(function(t){return function(n){return t.onComplete(n,e)}}(this))):"function"==typeof e?e("null delete url"):void 0;var o},n.prototype.get=function(t,n,e){return t?(this.$rootScope.loading=!0,n=this.appendToken(n),this.$http.get(t,{params:n}).then((o=this,function(t){return o.onComplete(t,e)})).catch(function(t){return function(n){return t.onComplete(n,e)}}(this))):"function"==typeof e?e("null get url"):void 0;var o},n.prototype.onComplete2=function(t,n){var e;return this.$rootScope.loading=!1,e=t.status,"function"==typeof n?n(e,t.data):void 0},n.prototype.post2=function(t,n,e){return t?(this.$rootScope.loading=!0,n=this.appendToken(n),this.$http.post(t,n).then((o=this,function(t){return o.complete2(t,e)})).catch(function(t){return function(n){return t.complete2(n,e)}}(this))):"function"==typeof e?e("null post url"):void 0;var o},n.prototype.delete2=function(t,n,e){return t?(this.$rootScope.loading=!0,n=this.appendToken(n),this.$http.delete(t,n).then((o=this,function(t){return o.complete2(t,e)})).catch(function(t){return function(n){return t.complete2(n,e)}}(this))):"function"==typeof e?e("null delete url"):void 0;var o},n.prototype.get2=function(t,n,e){return t?(this.$rootScope.loading=!0,n=this.appendToken(n),this.$http.get(t,{params:n}).then((o=this,function(t){return o.complete2(t,e)})).catch(function(t){return function(n){return t.complete2(n,e)}}(this))):"function"==typeof e?e("null get url"):void 0;var o},n}(t.Service)}});