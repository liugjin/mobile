if("function"!=typeof define)var define=require("amdefine")(module);define(["numeraljs","moment"],function(e,r){var t,n,a;return a={},{FormatStringFilter:t=function(){return function(t,n,i,s){var f,l,c,u,o,m,d,g,h;if(null==s&&(s=""),!t&&0!==t)return s;if(!i)return t;switch(n){case"float":case"int":case"increase-float":case"decrease-float":case"increase-int":case"decrease-int":o=e(t).format(i);break;case"enum":case"state":if(a.hasOwnProperty(i))f=a[i];else{if("{"===(i=i.trim())[0])f=angular.fromJson(i);else for(f={},m=0,d=(u=i.split(",")).length;m<d;m++)2===(l=(c=u[m]).split(":")).length&&(f[l[0].trim()]=l[1].trim());a[i]=f}o=null!=(g=null!=(h=f[t])?h:f.else)?g:t;break;case"datetime":o=r(t).format(i);break;default:o=t}return o}}}});